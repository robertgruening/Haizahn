<!DOCTYPE html>
<html>
    <head>
        <title>TODO supply a title</title>
        <meta charset="UTF-8">
        <script type="text/javascript" src="js/jquery-3.2.1.min.js"></script>
    </head>
    <body>
        <script type="text/javascript">            
            
            $(function() 
            {
                console.log("Vor dem AJAX-Aufruf");
                
                $("body").append("<h1>Put Tom</h1>");
                $.ajax({
                    method: "PUT",
                    url: "../server/services/user.php",                   
                    data: 
                    {
                        Name:"tom",
                        Email: "tom@test.de",
                        Password: "",
                        PasswordConfirmation: ""
                    },
                    dataType: "JSON",
                    success: function(data)
                    {   
                        $("body").append("<p>" + JSON.stringify(data) + "</p>");
                    },
                    error:function(jqXHR, textStatus, errorThrown)
                    {
                        if (jqXHR.status == 500)
                        {
                            ShowMessage(jqXHR.responseJSON);
                        }
                        else
                        {
                            console.log("ERROR: " + jqXHR.responseJSON);
                        }
                    }
                });
                        
                $("body").append("<h1>Get by ID 1</h1>"); 
                $.ajax({
                    method: "GET",
                    url: "../server/services/user.php?Id=1",
                    dataType: "json",
                    success: function(data)
                    {     
                        $("body").append("<p>" + JSON.stringify(data) + "</p>");
                    },
                    error:function(jqXHR, textStatus, errorThrown)
                    {
                        if (jqXHR.status == 500)
                        {
                            ShowMessage(jqXHR.responseJSON);
                        }
                        else
                        {
                            console.log("ERROR: " + jqXHR.responseJSON);
                        }
                    }
                });

                $("body").append("<h1>Get all</h1>");
                $.ajax({
                    method: "GET",
                    url: "../server/services/user.php",
                    dataType: "json",
                    success: function(data)
                    {
                        $("body").append("<p>" + JSON.stringify(data) + "</p>");
                    },
                    error:function(jqXHR, textStatus, errorThrown)
                    {
                        if (jqXHR.status == 500)
                        {
                            ShowMessage(jqXHR.responseJSON);
                        }
                        else
                        {
                            console.log("ERROR: " + jqXHR.responseJSON);
                        }
                    }
                });
                 
                console.log("Nach dem AJAX-Aufruf");
            }); 

            function ShowMessage(messages)
            {
                console.log("ShowMessage: " + messages);
            }
       </script>
    </body>
</html>
